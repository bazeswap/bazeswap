(this.webpackJsonpbazeswap=this.webpackJsonpbazeswap||[]).push([[0],{1050:function(e,t,r){"use strict";r.r(t),r.d(t,"Mutex",(function(){return i})),r.d(t,"Semaphore",(function(){return o})),r.d(t,"withTimeout",(function(){return u}));var n=r(62),o=function(){function e(e){if(this._maxConcurrency=e,this._queue=[],e<=0)throw new Error("semaphore must be initialized to a positive value");this._value=e}return e.prototype.acquire=function(){var e=this,t=this.isLocked(),r=new Promise((function(t){return e._queue.push(t)}));return t||this._dispatch(),r},e.prototype.runExclusive=function(e){return Object(n.b)(this,void 0,void 0,(function(){var t,r,o;return Object(n.d)(this,(function(n){switch(n.label){case 0:return[4,this.acquire()];case 1:t=n.sent(),r=t[0],o=t[1],n.label=2;case 2:return n.trys.push([2,,4,5]),[4,e(r)];case 3:return[2,n.sent()];case 4:return o(),[7];case 5:return[2]}}))}))},e.prototype.isLocked=function(){return this._value<=0},e.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailabel on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var e=this._currentReleaser;this._currentReleaser=void 0,e()}},e.prototype._dispatch=function(){var e=this,t=this._queue.shift();if(t){var r=!1;this._currentReleaser=function(){r||(r=!0,e._value++,e._dispatch())},t([this._value--,this._currentReleaser])}},e}(),i=function(){function e(){this._semaphore=new o(1)}return e.prototype.acquire=function(){return Object(n.b)(this,void 0,void 0,(function(){var e;return Object(n.d)(this,(function(t){switch(t.label){case 0:return[4,this._semaphore.acquire()];case 1:return e=t.sent(),[2,e[1]]}}))}))},e.prototype.runExclusive=function(e){return this._semaphore.runExclusive((function(){return e()}))},e.prototype.isLocked=function(){return this._semaphore.isLocked()},e.prototype.release=function(){this._semaphore.release()},e}();function u(e,t,r){var o=this;return void 0===r&&(r=new Error("timeout")),{acquire:function(){return new Promise((function(i,u){return Object(n.b)(o,void 0,void 0,(function(){var o,s;return Object(n.d)(this,(function(n){switch(n.label){case 0:return o=!1,setTimeout((function(){o=!0,u(r)}),t),[4,e.acquire()];case 1:return s=n.sent(),o?(Array.isArray(s)?s[1]:s)():i(s),[2]}}))}))}))},runExclusive:function(e){return Object(n.b)(this,void 0,void 0,(function(){var t,r;return Object(n.d)(this,(function(n){switch(n.label){case 0:t=function(){},n.label=1;case 1:return n.trys.push([1,,7,8]),[4,this.acquire()];case 2:return r=n.sent(),Array.isArray(r)?(t=r[1],[4,e(r[0])]):[3,4];case 3:return[2,n.sent()];case 4:return t=r,[4,e()];case 5:return[2,n.sent()];case 6:return[3,8];case 7:return t(),[7];case 8:return[2]}}))}))},release:function(){e.release()},isLocked:function(){return e.isLocked()}}}},746:function(e,t,r){"use strict";r.r(t),r.d(t,"render",(function(){return O})),r.d(t,"hydrate",(function(){return j})),r.d(t,"createElement",(function(){return v})),r.d(t,"h",(function(){return v})),r.d(t,"Fragment",(function(){return g})),r.d(t,"createRef",(function(){return y})),r.d(t,"isValidElement",(function(){return o})),r.d(t,"Component",(function(){return k})),r.d(t,"cloneElement",(function(){return M})),r.d(t,"createContext",(function(){return H})),r.d(t,"toChildArray",(function(){return B})),r.d(t,"_unmount",(function(){return F})),r.d(t,"options",(function(){return n}));var n,o,i,u,s,a,c,l,p={},f=[],d=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function h(e,t){for(var r in t)e[r]=t[r];return e}function _(e){var t=e.parentNode;t&&t.removeChild(e)}function v(e,t,r){var n,o=arguments,i={};for(n in t)"key"!==n&&"ref"!==n&&(i[n]=t[n]);if(arguments.length>3)for(r=[r],n=3;n<arguments.length;n++)r.push(o[n]);if(null!=r&&(i.children=r),"function"==typeof e&&null!=e.defaultProps)for(n in e.defaultProps)void 0===i[n]&&(i[n]=e.defaultProps[n]);return m(e,i,t&&t.key,t&&t.ref,null)}function m(e,t,r,o,i){var u={type:e,props:t,key:r,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:i};return null==i&&(u.__v=u),n.vnode&&n.vnode(u),u}function y(){return{}}function g(e){return e.children}function k(e,t){this.props=e,this.context=t}function b(e,t){if(null==t)return e.__?b(e.__,e.__.__k.indexOf(e)+1):null;for(var r;t<e.__k.length;t++)if(null!=(r=e.__k[t])&&null!=r.__e)return r.__e;return"function"==typeof e.type?b(e):null}function w(e){var t,r;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(r=e.__k[t])&&null!=r.__e){e.__e=e.__c.base=r.__e;break}return w(e)}}function x(e){(!e.__d&&(e.__d=!0)&&i.push(e)&&!u++||a!==n.debounceRendering)&&((a=n.debounceRendering)||s)(E)}function E(){for(var e;u=i.length;)e=i.sort((function(e,t){return e.__v.__b-t.__v.__b})),i=[],e.some((function(e){var t,r,n,o,i,u,s;e.__d&&(u=(i=(t=e).__v).__e,(s=t.__P)&&(r=[],(n=h({},i)).__v=n,o=L(s,i,n,t.__n,void 0!==s.ownerSVGElement,null,r,null==u?b(i):u),S(r,i),o!=u&&w(i)))}))}function R(e,t,r,n,o,i,u,s,a){var c,l,d,h,v,m,y,g=r&&r.__k||f,k=g.length;if(s==p&&(s=null!=i?i[0]:k?b(r,0):null),c=0,t.__k=B(t.__k,(function(r){if(null!=r){if(r.__=t,r.__b=t.__b+1,null===(d=g[c])||d&&r.key==d.key&&r.type===d.type)g[c]=void 0;else for(l=0;l<k;l++){if((d=g[l])&&r.key==d.key&&r.type===d.type){g[l]=void 0;break}d=null}if(h=L(e,r,d=d||p,n,o,i,u,s,a),(l=r.ref)&&d.ref!=l&&(y||(y=[]),d.ref&&y.push(d.ref,null,r),y.push(l,r.__c||h,r)),null!=h){var f;if(null==m&&(m=h),void 0!==r.__d)f=r.__d,r.__d=void 0;else if(i==d||h!=s||null==h.parentNode){e:if(null==s||s.parentNode!==e)e.appendChild(h),f=null;else{for(v=s,l=0;(v=v.nextSibling)&&l<k;l+=2)if(v==h)break e;e.insertBefore(h,s),f=s}"option"==t.type&&(e.value="")}s=void 0!==f?f:h.nextSibling,"function"==typeof t.type&&(t.__d=s)}else s&&d.__e==s&&s.parentNode!=e&&(s=b(d))}return c++,r})),t.__e=m,null!=i&&"function"!=typeof t.type)for(c=i.length;c--;)null!=i[c]&&_(i[c]);for(c=k;c--;)null!=g[c]&&F(g[c],g[c]);if(y)for(c=0;c<y.length;c++)T(y[c],y[++c],y[++c])}function B(e,t,r){if(null==r&&(r=[]),null==e||"boolean"==typeof e)t&&r.push(t(null));else if(Array.isArray(e))for(var n=0;n<e.length;n++)B(e[n],t,r);else r.push(t?t("string"==typeof e||"number"==typeof e?m(null,e,null,null,e):null!=e.__e||null!=e.__c?m(e.type,e.props,e.key,null,e.__v):e):e);return r}function C(e,t,r){"-"===t[0]?e.setProperty(t,r):e[t]="number"==typeof r&&!1===d.test(t)?r+"px":null==r?"":r}function A(e,t,r,n,o){var i,u,s,a,c;if(o?"className"===t&&(t="class"):"class"===t&&(t="className"),"style"===t)if(i=e.style,"string"==typeof r)i.cssText=r;else{if("string"==typeof n&&(i.cssText="",n=null),n)for(a in n)r&&a in r||C(i,a,"");if(r)for(c in r)n&&r[c]===n[c]||C(i,c,r[c])}else"o"===t[0]&&"n"===t[1]?(u=t!==(t=t.replace(/Capture$/,"")),s=t.toLowerCase(),t=(s in e?s:t).slice(2),r?(n||e.addEventListener(t,P,u),(e.l||(e.l={}))[t]=r):e.removeEventListener(t,P,u)):"list"!==t&&"tagName"!==t&&"form"!==t&&"type"!==t&&"size"!==t&&!o&&t in e?e[t]=null==r?"":r:"function"!=typeof r&&"dangerouslySetInnerHTML"!==t&&(t!==(t=t.replace(/^xlink:?/,""))?null==r||!1===r?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),r):null==r||!1===r&&!/^ar/.test(t)?e.removeAttribute(t):e.setAttribute(t,r))}function P(e){this.l[e.type](n.event?n.event(e):e)}function L(e,t,r,o,i,u,s,a,c){var l,p,f,d,_,v,m,y,b,w,x=t.type;if(void 0!==t.constructor)return null;(l=n.__b)&&l(t);try{e:if("function"==typeof x){if(y=t.props,b=(l=x.contextType)&&o[l.__c],w=l?b?b.props.value:l.__:o,r.__c?m=(p=t.__c=r.__c).__=p.__E:("prototype"in x&&x.prototype.render?t.__c=p=new x(y,w):(t.__c=p=new k(y,w),p.constructor=x,p.render=I),b&&b.sub(p),p.props=y,p.state||(p.state={}),p.context=w,p.__n=o,f=p.__d=!0,p.__h=[]),null==p.__s&&(p.__s=p.state),null!=x.getDerivedStateFromProps&&(p.__s==p.state&&(p.__s=h({},p.__s)),h(p.__s,x.getDerivedStateFromProps(y,p.__s))),d=p.props,_=p.state,f)null==x.getDerivedStateFromProps&&null!=p.componentWillMount&&p.componentWillMount(),null!=p.componentDidMount&&p.__h.push(p.componentDidMount);else{if(null==x.getDerivedStateFromProps&&y!==d&&null!=p.componentWillReceiveProps&&p.componentWillReceiveProps(y,w),!p.__e&&null!=p.shouldComponentUpdate&&!1===p.shouldComponentUpdate(y,p.__s,w)||t.__v===r.__v&&!p.__){for(p.props=y,p.state=p.__s,t.__v!==r.__v&&(p.__d=!1),p.__v=t,t.__e=r.__e,t.__k=r.__k,p.__h.length&&s.push(p),l=0;l<t.__k.length;l++)t.__k[l]&&(t.__k[l].__=t);break e}null!=p.componentWillUpdate&&p.componentWillUpdate(y,p.__s,w),null!=p.componentDidUpdate&&p.__h.push((function(){p.componentDidUpdate(d,_,v)}))}p.context=w,p.props=y,p.state=p.__s,(l=n.__r)&&l(t),p.__d=!1,p.__v=t,p.__P=e,l=p.render(p.props,p.state,p.context),t.__k=null!=l&&l.type==g&&null==l.key?l.props.children:Array.isArray(l)?l:[l],null!=p.getChildContext&&(o=h(h({},o),p.getChildContext())),f||null==p.getSnapshotBeforeUpdate||(v=p.getSnapshotBeforeUpdate(d,_)),R(e,t,r,o,i,u,s,a,c),p.base=t.__e,p.__h.length&&s.push(p),m&&(p.__E=p.__=null),p.__e=!1}else null==u&&t.__v===r.__v?(t.__k=r.__k,t.__e=r.__e):t.__e=N(r.__e,t,r,o,i,u,s,c);(l=n.diffed)&&l(t)}catch(e){t.__v=null,n.__e(e,t,r)}return t.__e}function S(e,t){n.__c&&n.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){n.__e(e,t.__v)}}))}function N(e,t,r,n,o,i,u,s){var a,c,l,d,h,_=r.props,v=t.props;if(o="svg"===t.type||o,null!=i)for(a=0;a<i.length;a++)if(null!=(c=i[a])&&((null===t.type?3===c.nodeType:c.localName===t.type)||e==c)){e=c,i[a]=null;break}if(null==e){if(null===t.type)return document.createTextNode(v);e=o?document.createElementNS("http://www.w3.org/2000/svg",t.type):document.createElement(t.type,v.is&&{is:v.is}),i=null,s=!1}if(null===t.type)_!==v&&e.data!=v&&(e.data=v);else{if(null!=i&&(i=f.slice.call(e.childNodes)),l=(_=r.props||p).dangerouslySetInnerHTML,d=v.dangerouslySetInnerHTML,!s){if(_===p)for(_={},h=0;h<e.attributes.length;h++)_[e.attributes[h].name]=e.attributes[h].value;(d||l)&&(d&&l&&d.__html==l.__html||(e.innerHTML=d&&d.__html||""))}(function(e,t,r,n,o){var i;for(i in r)"children"===i||"key"===i||i in t||A(e,i,null,r[i],n);for(i in t)o&&"function"!=typeof t[i]||"children"===i||"key"===i||"value"===i||"checked"===i||r[i]===t[i]||A(e,i,t[i],r[i],n)})(e,v,_,o,s),d?t.__k=[]:(t.__k=t.props.children,R(e,t,r,n,"foreignObject"!==t.type&&o,i,u,p,s)),s||("value"in v&&void 0!==(a=v.value)&&a!==e.value&&A(e,"value",a,_.value,!1),"checked"in v&&void 0!==(a=v.checked)&&a!==e.checked&&A(e,"checked",a,_.checked,!1))}return e}function T(e,t,r){try{"function"==typeof e?e(t):e.current=t}catch(e){n.__e(e,r)}}function F(e,t,r){var o,i,u;if(n.unmount&&n.unmount(e),(o=e.ref)&&(o.current&&o.current!==e.__e||T(o,null,t)),r||"function"==typeof e.type||(r=null!=(i=e.__e)),e.__e=e.__d=void 0,null!=(o=e.__c)){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(e){n.__e(e,t)}o.base=o.__P=null}if(o=e.__k)for(u=0;u<o.length;u++)o[u]&&F(o[u],t,r);null!=i&&_(i)}function I(e,t,r){return this.constructor(e,r)}function O(e,t,r){var o,i,u;n.__&&n.__(e,t),i=(o=r===c)?null:r&&r.__k||t.__k,e=v(g,null,[e]),u=[],L(t,(o?t:r||t).__k=e,i||p,p,void 0!==t.ownerSVGElement,r&&!o?[r]:i?null:f.slice.call(t.childNodes),u,r||p,o),S(u,e)}function j(e,t){O(e,t,c)}function M(e,t){var r,n;for(n in t=h(h({},e.props),t),arguments.length>2&&(t.children=f.slice.call(arguments,2)),r={},t)"key"!==n&&"ref"!==n&&(r[n]=t[n]);return m(e.type,r,t.key||e.key,t.ref||e.ref,null)}function H(e){var t={},r={__c:"__cC"+l++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var n,o=this;return this.getChildContext||(n=[],this.getChildContext=function(){return t[r.__c]=o,t},this.shouldComponentUpdate=function(e){o.props.value!==e.value&&n.some((function(t){t.context=e.value,x(t)}))},this.sub=function(e){n.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n.splice(n.indexOf(e),1),t&&t.call(e)}}),e.children}};return r.Consumer.contextType=r,r.Provider.__=r,r}n={__e:function(e,t){for(var r,n;t=t.__;)if((r=t.__c)&&!r.__)try{if(r.constructor&&null!=r.constructor.getDerivedStateFromError&&(n=!0,r.setState(r.constructor.getDerivedStateFromError(e))),null!=r.componentDidCatch&&(n=!0,r.componentDidCatch(e)),n)return x(r.__E=r)}catch(t){e=t}throw e}},o=function(e){return null!=e&&void 0===e.constructor},k.prototype.setState=function(e,t){var r;r=this.__s!==this.state?this.__s:this.__s=h({},this.state),"function"==typeof e&&(e=e(r,this.props)),e&&h(r,e),null!=e&&this.__v&&(t&&this.__h.push(t),x(this))},k.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),x(this))},k.prototype.render=g,i=[],u=0,s="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,c=p,l=0},756:function(e,t,r){"use strict";r.r(t),r.d(t,"useState",(function(){return h})),r.d(t,"useReducer",(function(){return _})),r.d(t,"useEffect",(function(){return v})),r.d(t,"useLayoutEffect",(function(){return m})),r.d(t,"useRef",(function(){return y})),r.d(t,"useImperativeHandle",(function(){return g})),r.d(t,"useMemo",(function(){return k})),r.d(t,"useCallback",(function(){return b})),r.d(t,"useContext",(function(){return w})),r.d(t,"useDebugValue",(function(){return x})),r.d(t,"useErrorBoundary",(function(){return E}));var n,o,i,u=r(746),s=0,a=[],c=u.options.__r,l=u.options.diffed,p=u.options.__c,f=u.options.unmount;function d(e,t){u.options.__h&&u.options.__h(o,e,s||t),s=0;var r=o.__H||(o.__H={__:[],__h:[]});return e>=r.__.length&&r.__.push({}),r.__[e]}function h(e){return s=1,_(P,e)}function _(e,t,r){var i=d(n++,2);return i.__c||(i.__c=o,i.__=[r?r(t):P(void 0,t),function(t){var r=e(i.__[0],t);i.__[0]!==r&&(i.__[0]=r,i.__c.setState({}))}]),i.__}function v(e,t){var r=d(n++,3);!u.options.__s&&A(r.__H,t)&&(r.__=e,r.__H=t,o.__H.__h.push(r))}function m(e,t){var r=d(n++,4);!u.options.__s&&A(r.__H,t)&&(r.__=e,r.__H=t,o.__h.push(r))}function y(e){return s=5,k((function(){return{current:e}}),[])}function g(e,t,r){s=6,m((function(){"function"==typeof e?e(t()):e&&(e.current=t())}),null==r?r:r.concat(e))}function k(e,t){var r=d(n++,7);return A(r.__H,t)?(r.__H=t,r.__h=e,r.__=e()):r.__}function b(e,t){return s=8,k((function(){return e}),t)}function w(e){var t=o.context[e.__c],r=d(n++,9);return r.__c=e,t?(null==r.__&&(r.__=!0,t.sub(o)),t.props.value):e.__}function x(e,t){u.options.useDebugValue&&u.options.useDebugValue(t?t(e):e)}function E(e){var t=d(n++,10),r=h();return t.__=e,o.componentDidCatch||(o.componentDidCatch=function(e){t.__&&t.__(e),r[1](e)}),[r[0],function(){r[1](void 0)}]}function R(){a.some((function(e){if(e.__P)try{e.__H.__h.forEach(B),e.__H.__h.forEach(C),e.__H.__h=[]}catch(o){return e.__H.__h=[],u.options.__e(o,e.__v),!0}})),a=[]}function B(e){e.t&&e.t()}function C(e){var t=e.__();"function"==typeof t&&(e.t=t)}function A(e,t){return!e||t.some((function(t,r){return t!==e[r]}))}function P(e,t){return"function"==typeof t?t(e):t}u.options.__r=function(e){c&&c(e),n=0,(o=e.__c).__H&&(o.__H.__h.forEach(B),o.__H.__h.forEach(C),o.__H.__h=[])},u.options.diffed=function(e){l&&l(e);var t=e.__c;if(t){var r=t.__H;r&&r.__h.length&&(1!==a.push(t)&&i===u.options.requestAnimationFrame||((i=u.options.requestAnimationFrame)||function(e){var t,r=function(){clearTimeout(n),cancelAnimationFrame(t),setTimeout(e)},n=setTimeout(r,100);"undefined"!=typeof window&&(t=requestAnimationFrame(r))})(R))}},u.options.__c=function(e,t){t.some((function(e){try{e.__h.forEach(B),e.__h=e.__h.filter((function(e){return!e.__||C(e)}))}catch(i){t.some((function(e){e.__h&&(e.__h=[])})),t=[],u.options.__e(i,e.__v)}})),p&&p(e,t)},u.options.unmount=function(e){f&&f(e);var t=e.__c;if(t){var r=t.__H;if(r)try{r.__.forEach((function(e){return e.t&&e.t()}))}catch(e){u.options.__e(e,t.__v)}}}},764:function(e,t,r){var n=r(898),o=r(899),i=r(247),u=r(900);e.exports=function(e){return n(e)||o(e)||i(e)||u()}},773:function(e,t){function r(e){return e.sort((function(e,t){return"latest"===e||"earliest"===t?1:"latest"===t||"earliest"===e?-1:n(e)-n(t)}))}function n(e){return void 0===e||null===e?e:Number.parseInt(e,16)}function o(e){if(void 0===e||null===e)return e;var t=e.toString(16);return t.length%2&&(t="0"+t),"0x"+t}function i(){return Math.floor(16*Math.random()).toString(16)}e.exports={minBlockRef:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=r(t);return o[0]},maxBlockRef:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=r(t);return o[o.length-1]},sortBlockRefs:r,bnToHex:function(e){return"0x"+e.toString(16)},blockRefIsNumber:function(e){return e&&!["earliest","latest","pending"].includes(e)},hexToInt:n,incrementHexInt:function(e){return void 0===e||null===e?e:o(n(e)+1)},intToHex:o,unsafeRandomBytes:function(e){for(var t="0x",r=0;r<e;r++)t+=i(),t+=i();return t}}},786:function(e,t){e.exports=function(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var o in n)r.call(n,o)&&(e[o]=n[o])}return e};var r=Object.prototype.hasOwnProperty},789:function(e,t,r){"use strict";var n=r(79),o=r(87),i=r(187),u=r(188);function s(e,t,r){try{Reflect.apply(e,t,r)}catch(n){setTimeout((function(){throw n}))}}function a(e){for(var t=e.length,r=new Array(t),n=0;n<t;n+=1)r[n]=e[n];return r}Object.defineProperty(t,"__esModule",{value:!0});var c=function(e){i(r,e);var t=u(r);function r(){return n(this,r),t.apply(this,arguments)}return o(r,[{key:"emit",value:function(e){var t="error"===e,r=this._events;if(void 0!==r)t=t&&void 0===r.error;else if(!t)return!1;for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];if(t){var u;if(o.length>0&&(u=o[0]),u instanceof Error)throw u;var c=new Error("Unhandled error.".concat(u?" (".concat(u.message,")"):""));throw c.context=u,c}var l=r[e];if(void 0===l)return!1;if("function"===typeof l)s(l,this,o);else for(var p=l.length,f=a(l),d=0;d<p;d+=1)s(f[d],this,o);return!0}}]),r}(r(97).EventEmitter);t.default=c},814:function(e,t,r){var n=r(79),o=r(87),i=r(187),u=r(188),s=r(363),a=r(983),c=function(e){"use strict";i(r,e);var t=u(r);function r(e,o,i){var u;if(n(this,r),!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!o||"string"!==typeof o)throw new Error('"message" must be a nonempty string.');return(u=t.call(this,o)).code=e,void 0!==i&&(u.data=i),u}return o(r,[{key:"serialize",value:function(){var e={code:this.code,message:this.message};return void 0!==this.data&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}},{key:"toString",value:function(){return a(this.serialize(),p,2)}}]),r}(s(Error)),l=function(e){"use strict";i(r,e);var t=u(r);function r(e,o,i){if(n(this,r),!function(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');return t.call(this,e,o,i)}return r}(c);function p(e,t){if("[Circular]"!==t)return t}e.exports={EthereumRpcError:c,EthereumProviderError:l}},815:function(e){e.exports=JSON.parse('{"rpc":{"invalidInput":-32000,"resourceNotFound":-32001,"resourceUnavailable":-32002,"transactionRejected":-32003,"methodNotSupported":-32004,"limitExceeded":-32005,"parse":-32700,"invalidRequest":-32600,"methodNotFound":-32601,"invalidParams":-32602,"internal":-32603},"provider":{"userRejectedRequest":4001,"unauthorized":4100,"unsupportedMethod":4200,"disconnected":4900,"chainDisconnected":4901}}')},816:function(e,t,r){var n=r(5),o=r(243),i=r(79),u=r(87),s=r(187),a=r(188),c=function(e){"use strict";s(r,e);var t=a(r);function r(){var e;return i(this,r),(e=t.call(this)).updates=[],e}return u(r,[{key:"initialize",value:function(){var e=o(n.mark((function e(){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=o(n.mark((function e(){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("BaseFilter - no update method specified");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"addResults",value:function(e){var t=this;this.updates=this.updates.concat(e),e.forEach((function(e){return t.emit("update",e)}))}},{key:"addInitialResults",value:function(e){}},{key:"getChangesAndClear",value:function(){var e=this.updates;return this.updates=[],e}}]),r}(r(789).default);e.exports=c},817:function(e,t,r){var n=r(5),o=r(243);function i(){return(i=o(n.mark((function e(t){var r,o,i,c,l,p,f;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.provider,o=t.fromBlock,i=t.toBlock,o||(o=i),c=u(o),l=u(i),p=Array(l-c+1).fill().map((function(e,t){return c+t})).map(s),e.next=8,Promise.all(p.map((function(e){return a(r,"eth_getBlockByNumber",[e,!1])})));case 8:return f=e.sent,e.abrupt("return",f);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(e){return void 0===e||null===e?e:Number.parseInt(e,16)}function s(e){return void 0===e||null===e?e:"0x"+e.toString(16)}function a(e,t,r){return new Promise((function(n,o){e.sendAsync({id:1,jsonrpc:"2.0",method:t,params:r},(function(e,t){if(e)return o(e);n(t.result)}))}))}e.exports=function(e){return i.apply(this,arguments)}},867:function(e,t,r){var n=r(5),o=r(243),i=r(79),u=r(87),s=r(187),a=r(188),c=r(868),l=r(953),p=function(e){"use strict";s(r,e);var t=a(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(i(this,r),!n.provider)throw new Error("PollingBlockTracker - no provider specified.");var o=n.pollingInterval||2e4,u=n.retryTimeout||o/10,s=void 0===n.keepEventLoopActive||n.keepEventLoopActive,a=n.setSkipCacheFlag||!1;return(e=t.call(this,Object.assign({blockResetDuration:o},n)))._provider=n.provider,e._pollingInterval=o,e._retryTimeout=u,e._keepEventLoopActive=s,e._setSkipCacheFlag=a,e}return u(r,[{key:"checkForLatestBlock",value:function(){var e=o(n.mark((function e(){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._updateLatestBlock();case 2:return e.next=4,this.getLatestBlock();case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_start",value:function(){var e=this;this._performSync().catch((function(t){return e.emit("error",t)}))}},{key:"_performSync",value:function(){var e=o(n.mark((function e(){var t;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isRunning){e.next=16;break}return e.prev=1,e.next=4,this._updateLatestBlock();case 4:return e.next=6,f(this._pollingInterval,!this._keepEventLoopActive);case 6:e.next=14;break;case 8:e.prev=8,e.t0=e.catch(1),t=new Error("PollingBlockTracker - encountered an error while attempting to update latest block:\n".concat(e.t0.stack));try{this.emit("error",t)}catch(r){console.error(t)}return e.next=14,f(this._retryTimeout,!this._keepEventLoopActive);case 14:e.next=0;break;case 16:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"_updateLatestBlock",value:function(){var e=o(n.mark((function e(){var t;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._fetchLatestBlock();case 2:t=e.sent,this._newPotentialLatest(t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_fetchLatestBlock",value:function(){var e=o(n.mark((function e(){var t,r,o=this;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={jsonrpc:"2.0",id:1,method:"eth_blockNumber",params:[]},this._setSkipCacheFlag&&(t.skipCache=!0),e.next=4,c((function(e){return o._provider.sendAsync(t,e)}))();case 4:if(!(r=e.sent).error){e.next=7;break}throw new Error("PollingBlockTracker - encountered error fetching block:\n".concat(r.error));case 7:return e.abrupt("return",r.result);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),r}(l);function f(e,t){return new Promise((function(r){var n=setTimeout(r,e);n.unref&&t&&n.unref()}))}e.exports=p},868:function(e,t,r){"use strict";var n=function(e,t){return function(){for(var r=this,n=t.promiseModule,o=new Array(arguments.length),i=0;i<arguments.length;i++)o[i]=arguments[i];return new n((function(n,i){t.errorFirst?o.push((function(e,r){if(t.multiArgs){for(var o=new Array(arguments.length-1),u=1;u<arguments.length;u++)o[u-1]=arguments[u];e?(o.unshift(e),i(o)):n(o)}else e?i(e):n(r)})):o.push((function(e){if(t.multiArgs){for(var r=new Array(arguments.length-1),o=0;o<arguments.length;o++)r[o]=arguments[o];n(r)}else n(e)})),e.apply(r,o)}))}};e.exports=function(e,t){t=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},t);var r,o=function(e){var r=function(t){return"string"===typeof t?e===t:t.test(e)};return t.include?t.include.some(r):!t.exclude.some(r)};for(var i in r="function"===typeof e?function(){return t.excludeMain?e.apply(this,arguments):n(e,t).apply(this,arguments)}:Object.create(Object.getPrototypeOf(e)),e){var u=e[i];r[i]="function"===typeof u&&o(i)?n(u,t):u}return r}},869:function(e,t,r){var n=r(954);function o(t,r,i){return"undefined"!==typeof Reflect&&Reflect.get?e.exports=o=Reflect.get:e.exports=o=function(e,t,r){var o=n(e,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(r):i.value}},o(t,r,i||t)}e.exports=o},870:function(e,t,r){var n=r(786),o=r(955)();function i(e){this.currentProvider=e}function u(e){return function(){var t=this,r=[].slice.call(arguments),n=r.pop();t.sendAsync({method:e,params:r},n)}}function s(e,t){return function(){var r=this,n=[].slice.call(arguments),o=n.pop();n.length<e&&n.push("latest"),r.sendAsync({method:t,params:n},o)}}e.exports=i,i.prototype.getBalance=s(2,"eth_getBalance"),i.prototype.getCode=s(2,"eth_getCode"),i.prototype.getTransactionCount=s(2,"eth_getTransactionCount"),i.prototype.getStorageAt=s(3,"eth_getStorageAt"),i.prototype.call=s(2,"eth_call"),i.prototype.protocolVersion=u("eth_protocolVersion"),i.prototype.syncing=u("eth_syncing"),i.prototype.coinbase=u("eth_coinbase"),i.prototype.mining=u("eth_mining"),i.prototype.hashrate=u("eth_hashrate"),i.prototype.gasPrice=u("eth_gasPrice"),i.prototype.accounts=u("eth_accounts"),i.prototype.blockNumber=u("eth_blockNumber"),i.prototype.getBlockTransactionCountByHash=u("eth_getBlockTransactionCountByHash"),i.prototype.getBlockTransactionCountByNumber=u("eth_getBlockTransactionCountByNumber"),i.prototype.getUncleCountByBlockHash=u("eth_getUncleCountByBlockHash"),i.prototype.getUncleCountByBlockNumber=u("eth_getUncleCountByBlockNumber"),i.prototype.sign=u("eth_sign"),i.prototype.sendTransaction=u("eth_sendTransaction"),i.prototype.sendRawTransaction=u("eth_sendRawTransaction"),i.prototype.estimateGas=u("eth_estimateGas"),i.prototype.getBlockByHash=u("eth_getBlockByHash"),i.prototype.getBlockByNumber=u("eth_getBlockByNumber"),i.prototype.getTransactionByHash=u("eth_getTransactionByHash"),i.prototype.getTransactionByBlockHashAndIndex=u("eth_getTransactionByBlockHashAndIndex"),i.prototype.getTransactionByBlockNumberAndIndex=u("eth_getTransactionByBlockNumberAndIndex"),i.prototype.getTransactionReceipt=u("eth_getTransactionReceipt"),i.prototype.getUncleByBlockHashAndIndex=u("eth_getUncleByBlockHashAndIndex"),i.prototype.getUncleByBlockNumberAndIndex=u("eth_getUncleByBlockNumberAndIndex"),i.prototype.getCompilers=u("eth_getCompilers"),i.prototype.compileLLL=u("eth_compileLLL"),i.prototype.compileSolidity=u("eth_compileSolidity"),i.prototype.compileSerpent=u("eth_compileSerpent"),i.prototype.newFilter=u("eth_newFilter"),i.prototype.newBlockFilter=u("eth_newBlockFilter"),i.prototype.newPendingTransactionFilter=u("eth_newPendingTransactionFilter"),i.prototype.uninstallFilter=u("eth_uninstallFilter"),i.prototype.getFilterChanges=u("eth_getFilterChanges"),i.prototype.getFilterLogs=u("eth_getFilterLogs"),i.prototype.getLogs=u("eth_getLogs"),i.prototype.getWork=u("eth_getWork"),i.prototype.submitWork=u("eth_submitWork"),i.prototype.submitHashrate=u("eth_submitHashrate"),i.prototype.sendAsync=function(e,t){var r;this.currentProvider.sendAsync((r=e,n({id:o(),jsonrpc:"2.0",params:[]},r)),(function(e,r){if(!e&&r.error&&(e=new Error("EthQuery - RPC Error - "+r.error.message)),e)return t(e);t(null,r.result)}))}},877:function(e,t,r){var n=r(5),o=r(243),i=r(1050).Mutex,u=r(878).createAsyncMiddleware,s=r(883),a=r(988),c=r(991),l=r(992),p=r(773),f=p.intToHex,d=p.hexToInt;function h(e){return _(o(n.mark((function t(){var r,o,i=arguments;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.apply(void 0,i);case 2:return r=t.sent,o=f(r.id),t.abrupt("return",o);case 5:case"end":return t.stop()}}),t)}))))}function _(e){return u(function(){var t=o(n.mark((function t(r,o){var i;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.apply(null,r.params);case 2:i=t.sent,o.result=i;case 4:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}())}function v(e,t){var r=[];for(var n in e)r.push(e[n]);return r}e.exports=function(e){var t=e.blockTracker,r=e.provider,u=0,p={},m=new i,y=function(e){var t=e.mutex;return function(e){return function(){var r=o(n.mark((function r(o,i,u,s){return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.acquire();case 2:(0,r.sent)(),e(o,i,u,s);case 5:case"end":return r.stop()}}),r)})));return function(e,t,n,o){return r.apply(this,arguments)}}()}}({mutex:m}),g=s({eth_newFilter:y(h(b)),eth_newBlockFilter:y(h(x)),eth_newPendingTransactionFilter:y(h(R)),eth_uninstallFilter:y(_(S)),eth_getFilterChanges:y(_(C)),eth_getFilterLogs:y(_(P))}),k=function(){var e=o(n.mark((function e(t){var r,i,u;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.oldBlock,i=t.newBlock,0!==p.length){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,m.acquire();case 5:return u=e.sent,e.prev=6,e.next=9,Promise.all(v(p).map(function(){var e=o(n.mark((function e(t){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.update({oldBlock:r,newBlock:i});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()));case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(6),console.error(e.t0);case 14:u();case 15:case"end":return e.stop()}}),e,null,[[6,11]])})));return function(t){return e.apply(this,arguments)}}();return g.newLogFilter=b,g.newBlockFilter=x,g.newPendingTransactionFilter=R,g.uninstallFilter=S,g.getFilterChanges=C,g.getFilterLogs=P,g.destroy=function(){!function(){j.apply(this,arguments)}()},g;function b(e){return w.apply(this,arguments)}function w(){return(w=o(n.mark((function e(t){var o;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=new a({provider:r,params:t}),e.next=3,T(o);case 3:return e.sent,e.abrupt("return",o);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(){return E.apply(this,arguments)}function E(){return(E=o(n.mark((function e(){var t;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new c({provider:r}),e.next=3,T(t);case 3:return e.sent,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(){return B.apply(this,arguments)}function B(){return(B=o(n.mark((function e(){var t;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new l({provider:r}),e.next=3,T(t);case 3:return e.sent,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e){return A.apply(this,arguments)}function A(){return(A=o(n.mark((function e(t){var r,o,i;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=d(t),o=p[r]){e.next=4;break}throw new Error('No filter for index "'.concat(r,'"'));case 4:return i=o.getChangesAndClear(),e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e){return L.apply(this,arguments)}function L(){return(L=o(n.mark((function e(t){var r,o;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=d(t),o=p[r]){e.next=4;break}throw new Error('No filter for index "'.concat(r,'"'));case 4:return"log"===o.type?results=o.getAllResults():results=[],e.abrupt("return",results);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e){return N.apply(this,arguments)}function N(){return(N=o(n.mark((function e(t){var r,o,i;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=d(t),o=p[r],!(i=Boolean(o))){e.next=6;break}return e.next=6,I(r);case 6:return e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e){return F.apply(this,arguments)}function F(){return(F=o(n.mark((function e(r){var o,i,s;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=v(p).length,e.next=3,t.getLatestBlock();case 3:return i=e.sent,e.next=6,r.initialize({currentBlock:i});case 6:return u++,p[u]=r,r.id=u,r.idHex=f(u),s=v(p).length,M({prevFilterCount:o,newFilterCount:s}),e.abrupt("return",u);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e){return O.apply(this,arguments)}function O(){return(O=o(n.mark((function e(t){var r,o;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=v(p).length,delete p[t],o=v(p).length,M({prevFilterCount:r,newFilterCount:o});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(){return(j=o(n.mark((function e(){var t;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=v(p).length,p={},M({prevFilterCount:t,newFilterCount:0});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e){var r=e.prevFilterCount,n=e.newFilterCount;0===r&&n>0?t.on("sync",k):r>0&&0===n&&t.removeListener("sync",k)}}},878:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(980),t),o(r(981),t),o(r(982),t),o(r(879),t),o(r(880),t),o(r(986),t)},879:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUniqueId=void 0;var n=Math.floor(4294967295*Math.random());t.getUniqueId=function(){return n=(n+1)%4294967295}},880:function(e,t,r){"use strict";var n=r(128),o=r(5),i=r(244),u=r(243),s=r(79),a=r(87),c=r(187),l=r(188),p=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.JsonRpcEngine=void 0;var f=p(r(789)),d=r(881),h=function(e){c(r,e);var t=l(r);function r(){var e;return s(this,r),(e=t.call(this))._middleware=[],e}return a(r,[{key:"push",value:function(e){this._middleware.push(e)}},{key:"handle",value:function(e,t){if(t&&"function"!==typeof t)throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?t?this._handleBatch(e,t):this._handleBatch(e):t?this._handle(e,t):this._promiseHandle(e)}},{key:"asMiddleware",value:function(){var e=this;return function(){var t=u(o.mark((function t(n,s,a,c){var l,p,f,d,h;return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r._runAllMiddleware(n,s,e._middleware);case 3:if(l=t.sent,p=i(l,3),f=p[0],d=p[1],h=p[2],!d){t.next=12;break}return t.next=11,r._runReturnHandlers(h);case 11:return t.abrupt("return",c(f));case 12:return t.abrupt("return",a(function(){var e=u(o.mark((function e(t){return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r._runReturnHandlers(h);case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",t(e.t0));case 8:return e.abrupt("return",t());case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()));case 15:return t.prev=15,t.t0=t.catch(0),t.abrupt("return",c(t.t0));case 18:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(e,r,n,o){return t.apply(this,arguments)}}()}},{key:"_handleBatch",value:function(){var e=u(o.mark((function e(t,r){var n;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all(t.map(this._promiseHandle.bind(this)));case 3:if(n=e.sent,!r){e.next=6;break}return e.abrupt("return",r(null,n));case 6:return e.abrupt("return",n);case 9:if(e.prev=9,e.t0=e.catch(0),!r){e.next=13;break}return e.abrupt("return",r(e.t0));case 13:throw e.t0;case 14:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(t,r){return e.apply(this,arguments)}}()},{key:"_promiseHandle",value:function(e){var t=this;return new Promise((function(r){t._handle(e,(function(e,t){r(t)}))}))}},{key:"_handle",value:function(){var e=u(o.mark((function e(t,r){var n,i,u,s,a;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&!Array.isArray(t)&&"object"===typeof t){e.next=3;break}return n=new d.EthereumRpcError(d.errorCodes.rpc.invalidRequest,"Requests must be plain objects. Received: ".concat(typeof t),{request:t}),e.abrupt("return",r(n,{id:void 0,jsonrpc:"2.0",error:n}));case 3:if("string"===typeof t.method){e.next=6;break}return i=new d.EthereumRpcError(d.errorCodes.rpc.invalidRequest,"Must specify a string method. Received: ".concat(typeof t.method),{request:t}),e.abrupt("return",r(i,{id:t.id,jsonrpc:"2.0",error:i}));case 6:return u=Object.assign({},t),s={id:u.id,jsonrpc:u.jsonrpc},a=null,e.prev=9,e.next=12,this._processRequest(u,s);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(9),a=e.t0;case 17:return a&&(delete s.result,s.error||(s.error=d.serializeError(a))),e.abrupt("return",r(a,s));case 19:case"end":return e.stop()}}),e,this,[[9,14]])})));return function(t,r){return e.apply(this,arguments)}}()},{key:"_processRequest",value:function(){var e=u(o.mark((function e(t,n){var u,s,a,c,l;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._runAllMiddleware(t,n,this._middleware);case 2:return u=e.sent,s=i(u,3),a=s[0],c=s[1],l=s[2],r._checkForCompletion(t,n,c),e.next=10,r._runReturnHandlers(l);case 10:if(!a){e.next=12;break}throw a;case 12:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()}],[{key:"_runAllMiddleware",value:function(){var e=u(o.mark((function e(t,u,s){var a,c,l,p,f,d,h,_;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[],c=null,l=!1,p=n(s),e.prev=4,p.s();case 6:if((f=p.n()).done){e.next=18;break}return d=f.value,e.next=10,r._runMiddleware(t,u,d,a);case 10:if(h=e.sent,_=i(h,2),c=_[0],!(l=_[1])){e.next=16;break}return e.abrupt("break",18);case 16:e.next=6;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(4),p.e(e.t0);case 23:return e.prev=23,p.f(),e.finish(23);case 26:return e.abrupt("return",[c,l,a.reverse()]);case 27:case"end":return e.stop()}}),e,null,[[4,20,23,26]])})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"_runMiddleware",value:function(e,t,r,n){return new Promise((function(o){var i=function(e){var r=e||t.error;r&&(t.error=d.serializeError(r)),o([r,!0])};try{r(e,t,(function(r){t.error?i(t.error):(r&&("function"!==typeof r&&i(new d.EthereumRpcError(d.errorCodes.rpc.internal,'JsonRpcEngine: "next" return handlers must be functions. '+'Received "'.concat(typeof r,'" for request:\n').concat(_(e)),{request:e})),n.push(r)),o([null,!1]))}),i)}catch(u){i(u)}}))}},{key:"_runReturnHandlers",value:function(){var e=u(o.mark((function e(t){var r,i,u;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n(t),e.prev=1,u=o.mark((function e(){var t;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.value,e.next=3,new Promise((function(e,r){t((function(t){return t?r(t):e()}))}));case 3:case"end":return e.stop()}}),e)})),r.s();case 4:if((i=r.n()).done){e.next=8;break}return e.delegateYield(u(),"t0",6);case 6:e.next=4;break;case 8:e.next=13;break;case 10:e.prev=10,e.t1=e.catch(1),r.e(e.t1);case 13:return e.prev=13,r.f(),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_checkForCompletion",value:function(e,t,r){if(!("result"in t)&&!("error"in t))throw new d.EthereumRpcError(d.errorCodes.rpc.internal,"JsonRpcEngine: Response has no error or result for request:\n".concat(_(e)),{request:e});if(!r)throw new d.EthereumRpcError(d.errorCodes.rpc.internal,"JsonRpcEngine: Nothing ended request:\n".concat(_(e)),{request:e})}}]),r}(f.default);function _(e){return JSON.stringify(e,null,2)}t.JsonRpcEngine=h},881:function(e,t,r){var n=r(814),o=n.EthereumRpcError,i=n.EthereumProviderError,u=r(882),s=u.serializeError,a=u.getMessageFromCode,c=r(985),l=r(815);e.exports={ethErrors:c,EthereumRpcError:o,EthereumProviderError:i,serializeError:s,getMessageFromCode:a,ERROR_CODES:l}},882:function(e,t,r){var n=r(150),o=r(984),i=r(815).rpc.internal,u=r(814).EthereumRpcError,s="Unspecified error message. This is a bug, please report it.",a={code:i,message:c(i)};function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s;if(Number.isInteger(e)){var r=e.toString();if(o[r])return o[r].message;if(p(e))return"Unspecified server error."}return t}function l(e){if(!Number.isInteger(e))return!1;var t=e.toString();return!!o[t]||!!p(e)}function p(e){return e>=-32099&&e<=-32e3}function f(e){return e&&"object"===typeof e&&!Array.isArray(e)?n({},e):e}e.exports={getMessageFromCode:c,isValidCode:l,serializeError:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.fallbackError,n=void 0===r?a:r,o=t.shouldIncludeStack,i=void 0!==o&&o;if(!n||!Number.isInteger(n.code)||"string"!==typeof n.message)throw new Error("Must provide fallback error with integer number code and string message.");if(e instanceof u)return e.serialize();var s={};return e&&l(e.code)?(s.code=e.code,e.message&&"string"===typeof e.message?(s.message=e.message,"data"in e&&(s.data=e.data)):(s.message=c(s.code),s.data={originalError:f(e)})):(s.code=n.code,s.message=e&&e.message?e.message:n.message,s.data={originalError:f(e)}),i&&e&&"string"===typeof e.stack&&(s.stack=e.stack),s},JSON_RPC_SERVER_ERROR_MESSAGE:"Unspecified server error."}},883:function(e,t,r){e.exports=r(987)},884:function(e,t,r){var n=r(5),o=r(243),i=r(789).default,u=r(883),s=r(878).createAsyncMiddleware,a=r(877),c=r(773),l=c.unsafeRandomBytes,p=c.incrementHexInt,f=r(817);function d(e){return{hash:e.hash,parentHash:e.parentHash,sha3Uncles:e.sha3Uncles,miner:e.miner,stateRoot:e.stateRoot,transactionsRoot:e.transactionsRoot,receiptsRoot:e.receiptsRoot,logsBloom:e.logsBloom,difficulty:e.difficulty,number:e.number,gasLimit:e.gasLimit,gasUsed:e.gasUsed,nonce:e.nonce,mixHash:e.mixHash,timestamp:e.timestamp,extraData:e.extraData}}e.exports=function(e){var t=e.blockTracker,r=e.provider,c={},h=a({blockTracker:t,provider:r}),_=!1,v=new i,m=u({eth_subscribe:s((function(e,t){return y.apply(this,arguments)})),eth_unsubscribe:s((function(e,t){return g.apply(this,arguments)}))});return m.destroy=function(){for(var e in v.removeAllListeners(),c)c[e].destroy(),delete c[e];_=!0},{events:v,middleware:m};function y(){return(y=o(n.mark((function e(i,u){var s,a,v,m,y,g,b;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b=function(e){var t=e.subId,r=e.filter;return r.on("update",(function(e){return k(t,e)})),{type:s,destroy:function(){var e=o(n.mark((function e(){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.uninstallFilter(r.idHex);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}},g=function(e){var i=e.subId,u={type:s,destroy:function(){var e=o(n.mark((function e(){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.removeListener("sync",u.update);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),update:function(){var e=o(n.mark((function e(t){var o,u,s,a,c;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.oldBlock,u=t.newBlock,s=u,a=p(o),e.next=5,f({provider:r,fromBlock:a,toBlock:s});case 5:c=e.sent,c.map(d).forEach((function(e){k(i,e)}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};return t.on("sync",u.update),u},!_){e.next=4;break}throw new Error("SubscriptionManager - attempting to use after destroying");case 4:s=i.params[0],a=l(16),e.t0=s,e.next="newHeads"===e.t0?9:"logs"===e.t0?11:17;break;case 9:return v=g({subId:a}),e.abrupt("break",18);case 11:return m=i.params[1],e.next=14,h.newLogFilter(m);case 14:return y=e.sent,v=b({subId:a,filter:y}),e.abrupt("break",18);case 17:throw new Error('SubscriptionManager - unsupported subscription type "'.concat(s,'"'));case 18:return c[a]=v,u.result=a,e.abrupt("return");case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){return(g=o(n.mark((function e(t,r){var o,i;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!_){e.next=2;break}throw new Error("SubscriptionManager - attempting to use after destroying");case 2:if(o=t.params[0],i=c[o]){e.next=7;break}return r.result=!1,e.abrupt("return");case 7:return delete c[o],e.next=10,i.destroy();case 10:r.result=!0;case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e,t){v.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:e,result:t}})}}},898:function(e,t,r){var n=r(362);e.exports=function(e){if(Array.isArray(e))return n(e)}},899:function(e,t){e.exports=function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},900:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},953:function(e,t,r){var n=r(5),o=r(243),i=r(79),u=r(87),s=r(361),a=r(869),c=r(245),l=r(187),p=r(188),f=(r(870),r(868),r(956)),d=function(e,t){return e+t},h=["sync","latest"],_=function(e){"use strict";l(r,e);var t=p(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i(this,r),(e=t.call(this))._blockResetDuration=n.blockResetDuration||2e4,e._blockResetTimeout,e._currentBlock=null,e._isRunning=!1,e._onNewListener=e._onNewListener.bind(s(e)),e._onRemoveListener=e._onRemoveListener.bind(s(e)),e._resetCurrentBlock=e._resetCurrentBlock.bind(s(e)),e._setupInternalEvents(),e}return u(r,[{key:"isRunning",value:function(){return this._isRunning}},{key:"getCurrentBlock",value:function(){return this._currentBlock}},{key:"getLatestBlock",value:function(){var e=o(n.mark((function e(){var t,r=this;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._currentBlock){e.next=2;break}return e.abrupt("return",this._currentBlock);case 2:return e.next=4,new Promise((function(e){return r.once("latest",e)}));case 4:return t=e.sent,e.abrupt("return",t);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeAllListeners",value:function(e){e?a(c(r.prototype),"removeAllListeners",this).call(this,e):a(c(r.prototype),"removeAllListeners",this).call(this),this._setupInternalEvents(),this._onRemoveListener()}},{key:"_start",value:function(){}},{key:"_end",value:function(){}},{key:"_setupInternalEvents",value:function(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}},{key:"_onNewListener",value:function(e,t){h.includes(e)&&this._maybeStart()}},{key:"_onRemoveListener",value:function(e,t){this._getBlockTrackerEventCount()>0||this._maybeEnd()}},{key:"_maybeStart",value:function(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),this._start())}},{key:"_maybeEnd",value:function(){this._isRunning&&(this._isRunning=!1,this._setupBlockResetTimeout(),this._end())}},{key:"_getBlockTrackerEventCount",value:function(){var e=this;return h.map((function(t){return e.listenerCount(t)})).reduce(d)}},{key:"_newPotentialLatest",value:function(e){var t=this._currentBlock;t&&v(e)<=v(t)||this._setCurrentBlock(e)}},{key:"_setCurrentBlock",value:function(e){var t=this._currentBlock;this._currentBlock=e,this.emit("latest",e),this.emit("sync",{oldBlock:t,newBlock:e})}},{key:"_setupBlockResetTimeout",value:function(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}},{key:"_cancelBlockResetTimeout",value:function(){clearTimeout(this._blockResetTimeout)}},{key:"_resetCurrentBlock",value:function(){this._currentBlock=null}}]),r}(f);function v(e){return Number.parseInt(e,16)}e.exports=_},954:function(e,t,r){var n=r(245);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=n(e)););return e}},955:function(e,t){e.exports=function(e){var t=(e=e||{}).max||Number.MAX_SAFE_INTEGER,r="undefined"!==typeof e.start?e.start:Math.floor(Math.random()*t);return function(){return r%=t,r++}}},956:function(e,t,r){var n=r(358),o=r(97),i="object"===typeof Reflect?Reflect:null,u=i&&"function"===typeof i.apply?i.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};function s(){o.call(this)}function a(e,t,r){try{u(e,t,r)}catch(n){setTimeout((function(){throw n}))}}function c(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}e.exports=s,n.inherits(s,o),s.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,o=this._events;if(void 0!==o)n=n&&void 0===o.error;else if(!n)return!1;if(n){var i;if(t.length>0&&(i=t[0]),i instanceof Error)throw i;var u=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw u.context=i,u}var s=o[e];if(void 0===s)return!1;if("function"===typeof s)a(s,this,t);else{var l=s.length,p=c(s,l);for(r=0;r<l;++r)a(p[r],this,t)}return!0}},980:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createIdRemapMiddleware=void 0;var n=r(879);t.createIdRemapMiddleware=function(){return function(e,t,r,o){var i=e.id,u=n.getUniqueId();e.id=u,t.id=u,r((function(r){e.id=i,t.id=i,r()}))}}},981:function(e,t,r){"use strict";var n=r(5),o=r(243);Object.defineProperty(t,"__esModule",{value:!0}),t.createAsyncMiddleware=void 0,t.createAsyncMiddleware=function(e){return function(){var t=o(n.mark((function t(r,i,u,s){var a,c,l,p,f;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=new Promise((function(e){a=e})),l=null,p=!1,f=function(){var e=o(n.mark((function e(){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p=!0,u((function(e){l=e,a()})),e.next=4,c;case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t.prev=4,t.next=7,e(r,i,f);case 7:if(!p){t.next=13;break}return t.next=10,c;case 10:l(null),t.next=14;break;case 13:s(null);case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(4),l?l(t.t0):s(t.t0);case 19:case"end":return t.stop()}}),t,null,[[4,16]])})));return function(e,r,n,o){return t.apply(this,arguments)}}()}},982:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createScaffoldMiddleware=void 0,t.createScaffoldMiddleware=function(e){return function(t,r,n,o){var i=e[t.method];return void 0===i?n():"function"===typeof i?i(t,r,n,o):(r.result=i,o())}}},983:function(e,t){e.exports=i,i.default=i,i.stable=a,i.stableStringify=a;var r=[],n=[];function o(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function i(e,t,i,s){var a;"undefined"===typeof s&&(s=o()),function e(t,r,n,o,i,s,a){var c;if(s+=1,"object"===typeof t&&null!==t){for(c=0;c<o.length;c++)if(o[c]===t)return void u("[Circular]",t,r,i);if("undefined"!==typeof a.depthLimit&&s>a.depthLimit)return void u("[...]",t,r,i);if("undefined"!==typeof a.edgesLimit&&n+1>a.edgesLimit)return void u("[...]",t,r,i);if(o.push(t),Array.isArray(t))for(c=0;c<t.length;c++)e(t[c],c,c,o,t,s,a);else{var l=Object.keys(t);for(c=0;c<l.length;c++){var p=l[c];e(t[p],p,c,o,t,s,a)}}o.pop()}}(e,"",0,[],void 0,0,s);try{a=0===n.length?JSON.stringify(e,t,i):JSON.stringify(e,c(t),i)}catch(p){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==r.length;){var l=r.pop();4===l.length?Object.defineProperty(l[0],l[1],l[3]):l[0][l[1]]=l[2]}}return a}function u(e,t,o,i){var u=Object.getOwnPropertyDescriptor(i,o);void 0!==u.get?u.configurable?(Object.defineProperty(i,o,{value:e}),r.push([i,o,t,u])):n.push([t,o,e]):(i[o]=e,r.push([i,o,t]))}function s(e,t){return e<t?-1:e>t?1:0}function a(e,t,i,a){"undefined"===typeof a&&(a=o());var l,p=function e(t,n,o,i,a,c,l){var p;if(c+=1,"object"===typeof t&&null!==t){for(p=0;p<i.length;p++)if(i[p]===t)return void u("[Circular]",t,n,a);try{if("function"===typeof t.toJSON)return}catch(_){return}if("undefined"!==typeof l.depthLimit&&c>l.depthLimit)return void u("[...]",t,n,a);if("undefined"!==typeof l.edgesLimit&&o+1>l.edgesLimit)return void u("[...]",t,n,a);if(i.push(t),Array.isArray(t))for(p=0;p<t.length;p++)e(t[p],p,p,i,t,c,l);else{var f={},d=Object.keys(t).sort(s);for(p=0;p<d.length;p++){var h=d[p];e(t[h],h,p,i,t,c,l),f[h]=t[h]}if("undefined"===typeof a)return f;r.push([a,n,t]),a[n]=f}i.pop()}}(e,"",0,[],void 0,0,a)||e;try{l=0===n.length?JSON.stringify(p,t,i):JSON.stringify(p,c(t),i)}catch(d){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==r.length;){var f=r.pop();4===f.length?Object.defineProperty(f[0],f[1],f[3]):f[0][f[1]]=f[2]}}return l}function c(e){return e="undefined"!==typeof e?e:function(e,t){return t},function(t,r){if(n.length>0)for(var o=0;o<n.length;o++){var i=n[o];if(i[1]===t&&i[0]===r){r=i[2],n.splice(o,1);break}}return e.call(this,t,r)}}},984:function(e){e.exports=JSON.parse('{"4001":{"standard":"EIP 1193","message":"User rejected the request."},"4100":{"standard":"EIP 1193","message":"The requested account and/or method has not been authorized by the user."},"4200":{"standard":"EIP 1193","message":"The requested method is not supported by this Ethereum provider."},"4900":{"standard":"EIP 1193","message":"The provider is disconnected from all chains."},"4901":{"standard":"EIP 1193","message":"The provider is disconnected from the specified chain."},"-32700":{"standard":"JSON RPC 2.0","message":"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{"standard":"JSON RPC 2.0","message":"The JSON sent is not a valid Request object."},"-32601":{"standard":"JSON RPC 2.0","message":"The method does not exist / is not available."},"-32602":{"standard":"JSON RPC 2.0","message":"Invalid method parameter(s)."},"-32603":{"standard":"JSON RPC 2.0","message":"Internal JSON-RPC error."},"-32000":{"standard":"EIP 1474","message":"Invalid input."},"-32001":{"standard":"EIP 1474","message":"Resource not found."},"-32002":{"standard":"EIP 1474","message":"Resource unavailable."},"-32003":{"standard":"EIP 1474","message":"Transaction rejected."},"-32004":{"standard":"EIP 1474","message":"Method not supported."},"-32005":{"standard":"EIP 1474","message":"Request limit exceeded."}}')},985:function(e,t,r){var n=r(244),o=r(814),i=o.EthereumRpcError,u=o.EthereumProviderError,s=r(882).getMessageFromCode,a=r(815);function c(e,t){var r=p(t),o=n(r,2),u=o[0],a=o[1];return new i(e,u||s(e),a)}function l(e,t){var r=p(t),o=n(r,2),i=o[0],a=o[1];return new u(e,i||s(e),a)}function p(e){if(e){if("string"===typeof e)return[e];if("object"===typeof e&&!Array.isArray(e))return[e.message,e.data]}return[]}e.exports={rpc:{parse:function(e){return c(a.rpc.parse,e)},invalidRequest:function(e){return c(a.rpc.invalidRequest,e)},invalidParams:function(e){return c(a.rpc.invalidParams,e)},methodNotFound:function(e){return c(a.rpc.methodNotFound,e)},internal:function(e){return c(a.rpc.internal,e)},server:function(e){if(!e||"object"!==typeof e||Array.isArray(e))throw new Error("Ethereum RPC Server errors must provide single object argument.");var t=e.code;if(!Number.isInteger(t)||t>-32005||t<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return c(t,e)},invalidInput:function(e){return c(a.rpc.invalidInput,e)},resourceNotFound:function(e){return c(a.rpc.resourceNotFound,e)},resourceUnavailable:function(e){return c(a.rpc.resourceUnavailable,e)},transactionRejected:function(e){return c(a.rpc.transactionRejected,e)},methodNotSupported:function(e){return c(a.rpc.methodNotSupported,e)},limitExceeded:function(e){return c(a.rpc.limitExceeded,e)}},provider:{userRejectedRequest:function(e){return l(a.provider.userRejectedRequest,e)},unauthorized:function(e){return l(a.provider.unauthorized,e)},unsupportedMethod:function(e){return l(a.provider.unsupportedMethod,e)},disconnected:function(e){return l(a.provider.disconnected,e)},chainDisconnected:function(e){return l(a.provider.chainDisconnected,e)},custom:function(e){if(!e||"object"!==typeof e||Array.isArray(e))throw new Error("Ethereum Provider custom errors must provide single object argument.");var t=e.code,r=e.message,n=e.data;if(!r||"string"!==typeof r)throw new Error('"message" must be a nonempty string');return new u(t,r,n)}}}},986:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeMiddleware=void 0;var n=r(880);t.mergeMiddleware=function(e){var t=new n.JsonRpcEngine;return e.forEach((function(e){return t.push(e)})),t.asMiddleware()}},987:function(e,t){e.exports=function(e){return function(t,r,n,o){var i=e[t.method];return void 0===i?n():"function"===typeof i?i(t,r,n,o):(r.result=i,o())}}},988:function(e,t,r){var n=r(5),o=r(243),i=r(79),u=r(87),s=r(187),a=r(188),c=r(870),l=r(989),p=r(990),f=r(773),d=(f.bnToHex,f.hexToInt),h=f.incrementHexInt,_=f.minBlockRef,v=f.blockRefIsNumber,m=function(e){"use strict";s(r,e);var t=a(r);function r(e){var n,o=e.provider,u=e.params;return i(this,r),(n=t.call(this)).type="log",n.ethQuery=new c(o),n.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},u),n.params.address&&(Array.isArray(n.params.address)||(n.params.address=[n.params.address]),n.params.address=n.params.address.map((function(e){return e.toLowerCase()}))),n}return u(r,[{key:"initialize",value:function(){var e=o(n.mark((function e(t){var r,o,i,u,s;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.currentBlock,o=this.params.fromBlock,["latest","pending"].includes(o)&&(o=r),"earliest"===o&&(o="0x0"),this.params.fromBlock=o,i=_(this.params.toBlock,r),u=Object.assign({},this.params,{toBlock:i}),e.next=9,this._fetchLogs(u);case 9:s=e.sent,this.addInitialResults(s);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=o(n.mark((function e(t){var r,o,i,u,s,a,c,l=this;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.oldBlock,o=t.newBlock,i=o,u=r?h(r):o,s=Object.assign({},this.params,{fromBlock:u,toBlock:i}),e.next=6,this._fetchLogs(s);case 6:a=e.sent,c=a.filter((function(e){return l.matchLog(e)})),this.addResults(c);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_fetchLogs",value:function(){var e=o(n.mark((function e(t){var r,o=this;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l((function(e){return o.ethQuery.getLogs(t,e)}))();case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"matchLog",value:function(e){if(d(this.params.fromBlock)>=d(e.blockNumber))return!1;if(v(this.params.toBlock)&&d(this.params.toBlock)<=d(e.blockNumber))return!1;var t=e.address&&e.address.toLowerCase();return!(this.params.address&&t&&!this.params.address.includes(t))&&this.params.topics.every((function(t,r){var n=e.topics[r];if(!n)return!1;n=n.toLowerCase();var o=Array.isArray(t)?t:[t];return!!o.includes(null)||(o=o.map((function(e){return e.toLowerCase()}))).includes(n)}))}}]),r}(p);e.exports=m},989:function(e,t,r){"use strict";var n=r(150),o=function(e,t,r,n){return function(){for(var o=this,i=arguments.length,u=new Array(i),s=0;s<i;s++)u[s]=arguments[s];var a=t.promiseModule;return new a((function(i,s){t.multiArgs?u.push((function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];t.errorFirst?r[0]?s(r):(r.shift(),i(r)):i(r)})):t.errorFirst?u.push((function(e,t){e?s(e):i(t)})):u.push(i);var a=o===r?n:o;Reflect.apply(e,a,u)}))}},i=new WeakMap;e.exports=function(e,t){t=n({exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},t);var r=typeof e;if(null===e||"object"!==r&&"function"!==r)throw new TypeError("Expected `input` to be a `Function` or `Object`, got `".concat(null===e?"null":r,"`"));var u=new WeakMap,s=new Proxy(e,{apply:function(e,r,n){var i=u.get(e);if(i)return Reflect.apply(i,r,n);var a=t.excludeMain?e:o(e,t,s,e);return u.set(e,a),Reflect.apply(a,r,n)},get:function(e,r){var n=e[r];if(!function(e,r){var n=i.get(e);if(n||(n={},i.set(e,n)),r in n)return n[r];var o=function(e){return"string"===typeof e||"symbol"===typeof r?r===e:e.test(r)},u=Reflect.getOwnPropertyDescriptor(e,r),s=void 0===u||u.writable||u.configurable,a=(t.include?t.include.some(o):!t.exclude.some(o))&&s;return n[r]=a,a}(e,r)||n===Function.prototype[r])return n;var a=u.get(n);if(a)return a;if("function"===typeof n){var c=o(n,t,s,e);return u.set(n,c),c}return n}});return s}},990:function(e,t,r){var n=r(5),o=r(243),i=r(79),u=r(87),s=r(869),a=r(245),c=r(187),l=r(188),p=function(e){"use strict";c(r,e);var t=l(r);function r(){var e;return i(this,r),(e=t.call(this)).allResults=[],e}return u(r,[{key:"update",value:function(){var e=o(n.mark((function e(){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("BaseFilterWithHistory - no update method specified");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"addResults",value:function(e){this.allResults=this.allResults.concat(e),s(a(r.prototype),"addResults",this).call(this,e)}},{key:"addInitialResults",value:function(e){this.allResults=this.allResults.concat(e),s(a(r.prototype),"addInitialResults",this).call(this,e)}},{key:"getAllResults",value:function(){return this.allResults}}]),r}(r(816));e.exports=p},991:function(e,t,r){var n=r(5),o=r(243),i=r(79),u=r(87),s=r(187),a=r(188),c=r(816),l=r(817),p=r(773).incrementHexInt,f=function(e){"use strict";s(r,e);var t=a(r);function r(e){var n,o=e.provider;e.params;return i(this,r),(n=t.call(this)).type="block",n.provider=o,n}return u(r,[{key:"update",value:function(){var e=o(n.mark((function e(t){var r,o,i,u,s,a;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.oldBlock,o=t.newBlock,i=o,u=p(r),e.next=5,l({provider:this.provider,fromBlock:u,toBlock:i});case 5:s=e.sent,a=s.map((function(e){return e.hash})),this.addResults(a);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(c);e.exports=f},992:function(e,t,r){var n=r(5),o=r(764),i=r(128),u=r(243),s=r(79),a=r(87),c=r(187),l=r(188),p=r(816),f=r(817),d=r(773).incrementHexInt,h=function(e){"use strict";c(r,e);var t=l(r);function r(e){var n,o=e.provider;return s(this,r),(n=t.call(this)).type="tx",n.provider=o,n}return a(r,[{key:"update",value:function(){var e=u(n.mark((function e(t){var r,u,s,a,c,l,p,h;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.oldBlock,u=r,s=d(r),e.next=5,f({provider:this.provider,fromBlock:s,toBlock:u});case 5:a=e.sent,c=[],l=i(a);try{for(l.s();!(p=l.n()).done;)h=p.value,c.push.apply(c,o(h.transactions))}catch(n){l.e(n)}finally{l.f()}this.addResults(c);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(p);e.exports=h}}]);
//# sourceMappingURL=0.335796d0.chunk.js.map